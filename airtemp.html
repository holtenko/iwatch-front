<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>ECharts</title>
    <script src="./js/echarts.common.min.js"></script>
    <script src="./js/jquery-3.1.0.min.js"></script>
</head>
<body>
<div id="main" style="width: 600px;height:400px;"></div>
<script type="text/javascript">
    var dataArray = [];
    $(function () {
        $.ajax(
                {
                    type: 'GET',
                    url: 'http://localhost:8080/airTemp?deviceid=10200018',
                    dataType: 'jsonp',
                    success: function (data) {
                        for (var i = 0; i < data.length; i++) {
                            dataArray.push([new Date(data[i].timestamp), data[i].value]);
                        }
                        myChart.setOption(option);
                    },
                    error: function () {
                        alert('fail');
                    }
                }
        );
    })
    var myChart = echarts.init(document.getElementById('main'));
    option = {
        title: {
            text: 'airtemp'
        },
        tooltip: {
            trigger: 'axis',
            axisPointer: {
                animation: false
            }
        },
        xAxis: {
            type: 'time',
            splitLine: {
                show: true
            }
        },
        yAxis: {
            type: 'value',
            boundaryGap: [0, '100%'],
            splitLine: {
                show: false
            }
        },
        series: [{
            name: 'value',
            type: 'line',
            showSymbol: false,
            hoverAnimation: true,
            data: dataArray
        }],
    };

</script>
</body>
</html>